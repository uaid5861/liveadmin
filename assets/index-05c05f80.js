import{h as b,u as y}from"./useAuth-2ec42edf.js";import{u as g}from"./useAuthButtons-9e7fcd42.js";import{a9 as v,d as _,e as l,a,b as o,j as k,r as N,o as m,c as U,g as n,Q as s,f as h,i as f}from"./index-e1b9afb8.js";import{L as S}from"./constant-caca95d8.js";function x(e){const i=e.startTime&&e.startTime.length>0&&e.startTime[0],p=e.startTime&&e.startTime.length>0&&e.startTime[1];return v.get(`/admin/content/live/list/${e.pageSize}/${e.pageNum}`,{title:e.title,liveStatus:e.liveStatus,liveStartTime:i,liveEndTime:p})}const V=_({__name:"index",setup(e){const{BUTTONS:i}=g(),p=[{prop:"id",label:"Id",width:80},{prop:"title",label:"标题",width:120,search:{el:"input",props:{placeholder:"请输入标题名称"}}},{prop:"postUrl",label:"封面",width:250,render:({row:t})=>l(a("el-image"),{style:"width: 200px; height: 100px",src:t.postUrl,fit:"cover"},null)},{prop:"src",label:"直播",width:100,render:()=>l(a("el-button"),{type:"primary"},{default:()=>[o("去围观")]})},{prop:"tagName",label:"标签"},{prop:"liver",label:"主播"},{prop:"phone",label:"手机号",width:120},{prop:"liveStatus",label:"直播状态",width:100,render:({row:t})=>t.liveStatus===0?l(a("el-tag"),{type:"warning"},{default:()=>[o("已结束")]}):l(a("el-tag"),{type:"primary"},{default:()=>[o("直播中")]}),enum:k(()=>S||[]),search:{el:"select",props:{placeholder:"请选择直播状态"}}},{prop:"account",label:"直播收益",width:120},{prop:"startTime",label:"开播时间",width:120,search:{el:"date-picker",props:{type:"datetimerange",valueFormat:"YYYY-MM-DD HH:mm:ss"}}},{prop:"endTime",label:"结束时间",width:120},{prop:"status",label:"状态",width:100,render:({row:t})=>l(a("el-switch"),{modelValue:t.status,"onUpdate:modelValue":r=>t.status=r},null)},{prop:"operation",label:"操作",fixed:"right",width:180}],T=N(),c=async t=>{const r=t==="新增"?b("btn.UserNormal.add1"):b("btn.UserNormal.update2");await y(r)};return(t,r)=>{const u=a("el-button"),w=a("ProTable");return m(),U("div",null,[l(w,{ref_key:"proTable",ref:T,columns:p,requestApi:s(x)},{tableHeader:n(()=>[l(u,{type:"primary",icon:"Plus",disabled:!s(i)["btn.UserNormal.add"],onClick:r[0]||(r[0]=d=>c("新增"))},{default:n(()=>[o(" 新增 ")]),_:1},8,["disabled"])]),operation:n(d=>[d.row.status!==1?(m(),h(u,{key:0,type:"primary",link:"",icon:"Edit",disabled:!s(i)["btn.UserNormal.update"],onClick:r[1]||(r[1]=A=>c("编辑"))},{default:n(()=>[o(" 编辑 ")]),_:1},8,["disabled"])):f("",!0),d.row.status!==1?(m(),h(u,{key:1,type:"primary",link:"",icon:"Delete",disabled:!s(i)["btn.UserNormal.view"]},{default:n(()=>[o(" 删除 ")]),_:1},8,["disabled"])):f("",!0)]),_:1},8,["requestApi"])])}}});export{V as default};
